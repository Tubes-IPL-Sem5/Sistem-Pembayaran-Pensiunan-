<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane prefHeight="600.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.mycompany.pensiunan.controller.KeuanganController">

    <HBox>
        <VBox alignment="TOP_CENTER" prefWidth="80" spacing="20" style="-fx-background-color: #2D7D52;">
            <padding>
                <Insets top="20" bottom="20"/>
            </padding>

            <Label style="-fx-font-size: 30; -fx-text-fill: white;" text="ðŸ‘¤" />

            <Region VBox.vgrow="ALWAYS" />

            <Button onAction="#backToDashboard" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 30; -fx-cursor: hand;" text="&lt;" />

            <Button onAction="#handleLogout" text="Logout" style="-fx-background-color: #c62828; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" />

        </VBox>

        <VBox style="-fx-background-color: #f4f4f4;" HBox.hgrow="ALWAYS">

            <HBox alignment="CENTER_LEFT" prefHeight="60" style="-fx-background-color: #69A282; -fx-padding: 0 20;">
                <Label fx:id="lblNamaUser" text="Loading User..." textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="20.0" />
                    </font>
                </Label>
            </HBox>

            <StackPane VBox.vgrow="ALWAYS">

                <HBox fx:id="paneMenu" alignment="CENTER" spacing="50">
                    <VBox alignment="CENTER" onMouseClicked="#showTransferDana" style="-fx-cursor: hand;">
                        <VBox style="-fx-background-color: #e0e0e0; -fx-padding: 30; -fx-background-radius: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 10, 0, 0, 5);">
                            <Label style="-fx-font-size: 50;" text="ðŸ’°" />
                        </VBox>
                        <Label style="-fx-font-weight: bold; -fx-font-size: 14; -fx-padding: 10 0 0 0;" text="Transfer Uang Pensiun" />
                    </VBox>

                    <VBox alignment="CENTER" onMouseClicked="#showDataGaji" style="-fx-cursor: hand;">
                        <VBox style="-fx-background-color: #e0e0e0; -fx-padding: 30; -fx-background-radius: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 10, 0, 0, 5);">
                            <Label style="-fx-font-size: 50;" text="ðŸ“‹" />
                        </VBox>
                        <Label style="-fx-font-weight: bold; -fx-font-size: 14; -fx-padding: 10 0 0 0;" text="Data Gaji Pensiunan" />
                    </VBox>
                </HBox>

                <VBox fx:id="paneTransfer" spacing="20" style="-fx-padding: 30;" visible="false">
                    <Label style="-fx-font-size: 18; -fx-font-weight: bold;" text="Daftar Pengajuan Transfer" />

                    <TableView fx:id="tablePensiunan" style="-fx-base: #e0e0e0;" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colNama" prefWidth="150" text="Nama" />
                            <TableColumn fx:id="colNip" prefWidth="100" text="NIP" />
                            <TableColumn fx:id="colLalu" prefWidth="150" text="Nominal Terakhir" />
                            <TableColumn fx:id="colAkan" prefWidth="160" text="Nominal Akan Ditransfer" />
                            <TableColumn fx:id="colStatus" prefWidth="120" text="Persetujuan" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>

                    <HBox alignment="CENTER_RIGHT">
                        <Button onAction="#handleProsesPembayaran" style="-fx-background-color: #2D7D52; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14; -fx-padding: 10 20; -fx-cursor: hand;" text="Proses Pembayaran" />
                    </HBox>
                </VBox>

                <VBox fx:id="paneDataGaji" spacing="20" style="-fx-padding: 30;" visible="false">
                    <Label style="-fx-font-size: 18; -fx-font-weight: bold;" text="Riwayat Data Gaji" />

                    <TableView fx:id="tableDataGaji" style="-fx-base: #e0e0e0;" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colGajiNama" prefWidth="150" text="Nama" />
                            <TableColumn fx:id="colGajiNip" prefWidth="100" text="NIP" />
                            <TableColumn fx:id="colGajiTgl" prefWidth="150" text="Tanggal Pensiunan" />
                            <TableColumn fx:id="colGajiLalu" prefWidth="150" text="Nominal Terakhir" />
                            <TableColumn fx:id="colGajiGol" prefWidth="80" text="Golongan" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>

            </StackPane>
        </VBox>
    </HBox>
</StackPane>